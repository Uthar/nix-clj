--- a/maven-plugin-tools-api/src/main/java/org/apache/maven/tools/plugin/javadoc/JavadocSite.java
+++ b/maven-plugin-tools-api/src/main/java/org/apache/maven/tools/plugin/javadoc/JavadocSite.java
@@ -42,6 +42,7 @@
 import java.util.function.BiFunction;
 import java.util.regex.Pattern;
 
+/*
 import org.apache.http.HttpHeaders;
 import org.apache.http.HttpHost;
 import org.apache.http.HttpResponse;
@@ -65,6 +66,7 @@
 import org.apache.http.impl.client.HttpClients;
 import org.apache.http.impl.conn.PoolingHttpClientConnectionManager;
 import org.apache.http.message.BasicHeader;
+*/
 import org.apache.maven.settings.Proxy;
 import org.apache.maven.settings.Settings;
 import org.apache.maven.tools.plugin.javadoc.FullyQualifiedJavadocReference.MemberType;
@@ -462,6 +464,7 @@
      * @see #DEFAULT_TIMEOUT
      * @since 2.8
      */
+    /*
     private static CloseableHttpClient createHttpClient(Settings settings, URL url) {
         HttpClientBuilder builder = HttpClients.custom();
 
@@ -482,7 +485,7 @@
         builder.setUserAgent("Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.0)");
 
         // Some server reject requests that do not have an Accept header
-        builder.setDefaultHeaders(Arrays.asList(new BasicHeader(HttpHeaders.ACCEPT, "*/*")));
+        builder.setDefaultHeaders(Arrays.asList(new BasicHeader(HttpHeaders.ACCEPT, "*")));
 
         if (settings != null && settings.getActiveProxy() != null) {
             Proxy activeProxy = settings.getActiveProxy();
@@ -507,6 +510,7 @@
         }
         return builder.build();
     }
+    */
 
     static BufferedReader getReader(URL url, Settings settings) throws IOException {
         BufferedReader reader = null;
@@ -515,7 +519,9 @@
             // Intentionally using the platform default encoding here since this is what Javadoc uses internally.
             reader = new BufferedReader(new InputStreamReader(url.openStream()));
         } else {
+            throw new UnsupportedOperationException("built without networking");
             // http, https...
+            /*
             final CloseableHttpClient httpClient = createHttpClient(settings, url);
 
             final HttpGet httpMethod = new HttpGet(url.toString());
@@ -562,6 +568,7 @@
                     }
                 }
             };
+            */
         }
 
         return reader;

Diff finished.  Sun Feb 18 12:25:21 2024
